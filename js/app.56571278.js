(function(){var e={731:function(e,t,r){"use strict";var n=r(144),o=r(3726),a=r(7024),s=r(1819),i=r(3102),l=r(7894),c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{id:"app"}},[t("LoadingOverlay"),t("NavDrawer",{ref:"navDrawer"}),t("NavBar",{on:{"toggle-drawer":function(t){return e.$refs.navDrawer.toggle()}}}),t(i.Z,{staticStyle:{position:"relative"}},[t("external-background"),t("div",{staticStyle:{"overflow-y":"auto",position:"absolute",top:"0 !important",width:"100%",height:"100%"}},[t(s.Z,{attrs:{fluid:"",id:"main-container"}},[t(l.Z,{attrs:{justify:"center"}},[t(a.Z,{style:{"max-width":e.$vuetify.breakpoint.thresholds.md+"px"},attrs:{align:"center"}},[t("router-view")],1)],1)],1)],1)],1)],1)},u=[],d=r(655),f=r(1929),m=r(9759),v=r(4741),p=r(9767),h=r(7935),g=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(p.Z,{attrs:{value:e.$store.state.loading,"z-index":1e3}},[t(h.Z,{attrs:{indeterminate:"",size:"64"}})],1),t(p.Z,{attrs:{value:e.$store.state.error,"z-index":1001}},[t(m.Z,{staticClass:"bo",attrs:{prominent:"",type:"error",elevation:"3"}},[t(l.Z,{attrs:{align:"center"}},[t(a.Z,{staticClass:"grow font-weight-medium"},[e._v(e._s(e.$store.state.errorNote))]),t(a.Z,{staticClass:"shrink"},[t(v.Z,{attrs:{color:"error lighten-1",elevation:"5"},on:{click:e.restartApp}},[e._v("Restart App")])],1)],1)],1)],1)],1)},b=[];let k=class extends f.w3{restartApp(){const e=new URL(window.location.href);e.hash="",e.pathname="",window.location.href=e.href}};k=(0,d.gn)([f.wA],k);var y=k,w=y,x=r(1001),Z=(0,x.Z)(w,g,b,!1,null,null,null),_=Z.exports,$=r(9088),O=r(7970),A=r(1667),T=r(3444),S=r(1543),N=r(5308),q=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(N.Z,{attrs:{app:"",clipped:e.$vuetify.breakpoint.lgAndUp},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t(O.Z,{attrs:{dense:""}},[t(A.Z,{attrs:{to:"/",color:e.itemcolor()}},[t(T.Z,[t($.Z,{attrs:{color:"secondary"}},[e._v("mdi-bookmark")])],1),t(S.km,[t(S.V9,{attrs:{varian:""}},[e._v("Index")])],1)],1),e.$store.state.athome?t(A.Z,{attrs:{to:"/home",color:e.itemcolor()}},[t(T.Z,[t($.Z,{attrs:{color:"secondary"}},[e._v("mdi-bookmark")])],1),t(S.km,[t(S.V9,[e._v("Home")])],1)],1):e._e(),t(A.Z,{attrs:{to:"/impressum",color:e.itemcolor()}},[t(T.Z,[t($.Z,{attrs:{color:"secondary"}},[e._v("mdi-bookmark")])],1),t(S.km,[t(S.V9,[e._v("Impressum")])],1)],1)],1)],1)},C=[];let j=class extends f.w3{visible=!1;itemcolor(){return this.$vuetify.theme.dark?"secondary accent-4":"secondary darken-4"}toggle(){this.visible=!this.visible}close(){this.visible=!1}};j=(0,d.gn)([f.wA],j);var P=j,E=P,M=(0,x.Z)(E,q,C,!1,null,null,null),D=M.exports,L=r(3625),I=r(5078),F=r(3816),B=r(624),U=r(2520),z=r(2515),H=r(6827),J=r(3845),Q=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(L.Z,{attrs:{app:"","clipped-right":"",color:"primary",dark:"","clipped-left":e.$vuetify.breakpoint.lgAndUp,id:"menubar"}},[t(I.Z,{on:{click:function(t){return t.stopPropagation(),e.$emit("toggle-drawer")}}}),t(J.qW,[e._v("krueckl.de")]),t(z.Z),t(B.Z,{attrs:{"offset-y":"",transition:"slide-y-transition",bottom:"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:r,attrs:n}){return[t(v.Z,e._g(e._b({attrs:{fab:"",small:"",color:"primary lighten-1"}},"v-btn",n,!1),r),[t($.Z,[e._v("mdi-application-cog-outline")])],1)]}}])},[t(F.Z,[t(O.Z,[t(A.Z,[t(T.Z,[t(H.Z,{attrs:{color:"secondary"},model:{value:e.$vuetify.theme.dark,callback:function(t){e.$set(e.$vuetify.theme,"dark",t)},expression:"$vuetify.theme.dark"}})],1),t(S.V9,{on:{click:function(t){e.$vuetify.theme.dark=!e.$vuetify.theme.dark}}},[e._v(e._s(e.$t("darktheme")))])],1),t(A.Z,[t(U.Z,{attrs:{items:Object.keys(e.$i18n.messages).map((t=>({value:t,text:e.$i18n.messages[t].lang}))),label:e.$t("language")},model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}})],1)],1)],1)],1)],1)},V=[];let R=class extends f.w3{lang="de"};R=(0,d.gn)([f.wA],R);var W=R,G=W,K=(0,x.Z)(G,Q,V,!1,null,null,null),X=K.exports,Y=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"animation",attrs:{id:"animation"}})},ee=[];let te=class extends f.w3{};te=(0,d.gn)([f.wA],te);var re=te,ne=re,oe=(0,x.Z)(ne,Y,ee,!1,null,null,null),ae=oe.exports;let se=class extends f.w3{};se=(0,d.gn)([(0,f.wA)({name:"App",components:{LoadingOverlay:_,NavDrawer:D,NavBar:X,ExternalBackground:ae}})],se);var ie=se,le=ie,ce=(0,x.Z)(le,c,u,!1,null,null,null),ue=ce.exports,de=r(5205);(0,de.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var fe=r(8345),me=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"index"})},ve=[];let pe=class extends f.w3{};pe=(0,d.gn)([f.wA],pe);var he=pe,ge=he,be=(0,x.Z)(ge,me,ve,!1,null,null,null),ke=be.exports,ye=r(4170),we=r(1013),xe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"home"},[t(F.Z,[t("h2",{staticClass:"pt-2"},[e._v(e._s(e.$t("rollos")))]),t(s.Z,[t(l.Z,e._l(e.$store.state.rollos,(function(r,n){return t(a.Z,{key:n},[t(ye.Z,[e._v(e._s(n))]),t(we.Z,{attrs:{"thumb-label":"always",vertical:""},on:{change:function(t){return e.setrollo(n,r.value)}},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"value.value"}})],1)})),1),t(l.Z,[t(a.Z,[t(v.Z,{attrs:{color:"primary"},on:{click:function(t){return e.$store.commit("setrollos","up")}}},[e._v(" Up ")])],1),t(a.Z,[t(v.Z,{attrs:{color:"primary"},on:{click:function(t){return e.$store.commit("setrollos","down")}}},[e._v(" Down ")])],1),t(a.Z,[t(v.Z,{attrs:{color:"primary"},on:{click:function(t){return e.$store.commit("setrollos","cat")}}},[e._v(" Cat ")])],1)],1)],1)],1),t(F.Z,{staticClass:"mt-2"},[t("h2",{staticClass:"pt-2"},[e._v(e._s(e.$t("lichter")))]),e._l(e.$store.state.lichter,(function(r,n){return t("div",{key:n},[t(H.Z,{staticClass:"mt-0 ml-8",attrs:{loading:r.updating,label:n},on:{change:function(t){return e.setlight(n,r.value)}},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"value.value"}})],1)}))],2)],1)},Ze=[];let _e=class extends f.w3{setlight(e,t){this.$store.commit("setlight",{key:e,value:t})}setrollo(e,t){this.$store.commit("setrollo",{key:e,value:t})}mounted(){"?"===this.$store.state.mqtt.state&&this.$store.state.athome&&this.$store.commit("connectMQTT")}};_e=(0,d.gn)([f.wA],_e);var $e=_e,Oe=$e,Ae=(0,x.Z)(Oe,xe,Ze,!1,null,null,null),Te=Ae.exports;const Se=[{path:"/",name:"Index",component:ke,meta:{title:"krueckl.de",metaTags:[{property:"???",content:"???"}]}},{path:"/home",name:"Home",component:Te,meta:{title:"Home control",metaTags:[{property:"home"}]}},{path:"/impressum",name:"Impressum",component:()=>r.e(42).then(r.bind(r,1618))}];var Ne=Se;n["default"].use(fe.ZP);const qe=new fe.ZP({mode:"history",base:"/",routes:Ne});qe.beforeEach(((e,t,r)=>{const n=e.matched.slice().reverse().find((e=>e.meta&&e.meta.title)),o=e.matched.slice().reverse().find((e=>e.meta&&e.meta.metaTags));t.matched.slice().reverse().find((e=>e.meta&&e.meta.metaTags));if(n&&(document.title=n.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((e=>e.parentNode.removeChild(e))),!o)return r();o.meta.metaTags.map((e=>{const t=document.createElement("meta");return Object.keys(e).forEach((r=>{t.setAttribute(r,e[r])})),t.setAttribute("data-vue-router-controlled",""),t})).forEach((e=>document.head.appendChild(e))),r()}));var Ce=qe,je=r(8986),Pe=r(6403);n["default"].use(je.Z);var Ee=new je.Z({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},themes:{light:{primary:"#35d6d0",secondary:"#ff43bb",accent:Pe.Z.shades.black,error:Pe.Z.red.accent3,background:Pe.Z.shades.white,drawerbackground:"#d9dede",cardbackground:"#ffffff"},dark:{primary:"#35d6d0",secondary:"#ff35d5",background:Pe.Z.shades.black,drawerbackground:"#212626",cardbackground:"#212626"}}}}),Me=r(7152);function De(){const e=r(2528),t={};return e.keys().forEach((r=>{const n=r.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){const o=n[1];t[o]=e(r)}})),t}function Le(){const e=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(!e)return;const t=e.trim().split(/-|_/)[0];return t}n["default"].use(Me.Z);var Ie=new Me.Z({locale:Le(),fallbackLocale:"en",messages:De()}),Fe=r(629);let Be={host:"",port:1234,clientID:"?",user:"",password:""},Ue=!1;try{let e=localStorage.getItem("mqttcfg");null!==e&&(Be=JSON.parse(e),Ue=!0)}catch{}const ze={error:!1,loading:!1,loadingList:[],errorNote:"",athome:Ue,mqtt:{...Be,client:void 0,state:"?"},rollos:{},lichter:{}};var He=r(8295);n["default"].use(Fe.ZP);let Je=new Fe.ZP.Store({state:ze,mutations:{connectMQTT(){ze.mqtt.client=new He.Client(ze.mqtt.host,ze.mqtt.port,ze.mqtt.clientID),ze.mqtt.state="connecting",ze.mqtt.client.onMessageArrived=e=>{Je.commit("onMQTTmessage",e)};var e={useSSL:!0,userName:ze.mqtt.user,password:ze.mqtt.password,onSuccess:()=>{ze.mqtt.client.subscribe("#"),ze.mqtt.state="connected"},onFailure:e=>{ze.mqtt.state="error"}};ze.mqtt.client.connect(e)},onMQTTmessage(e,t){let r=t.topic.substr(6),o=r.substr(r.indexOf("-")+1),a=r.substr(0,r.indexOf("-")),s=t.payloadString,i=parseInt(s);"on"===s&&(i=!0),"off"===s&&(i=!1),r&&!isNaN(i)&&("rollo"===a&&n["default"].set(e.rollos,o,{value:i,updating:!1}),"licht"===a&&n["default"].set(e.lichter,o,{value:i,updating:!1}))},setlight(e,t){const r=t.key;n["default"].set(ze.lichter,r,{value:e.lichter[r].value,updating:!0}),ze.mqtt.client.publish("command/licht-"+r,t.value?"on":"off")},setrollo(e,t){const r=t.key,n=t.value.toString();ze.mqtt.client.publish("command/rollo-"+r,n)},setrollos(e,t){ze.mqtt.client.publish("command/rollos",t)}}});var Qe=Je,Ve=r(3464),Re=r.n(Ve);function We(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}));return t}const Ge=window.location.search;if(null!==Ge)try{let e=window.atob(Ge.replace("?","")),t=JSON.parse(e);t["clientID"]=We(),localStorage.setItem("mqttcfg",JSON.stringify(t))}catch{}n["default"].use(Re()),n["default"].config.productionTip=!1;const Ke=new n["default"]({router:Ce,vuetify:Ee,i18n:Ie,store:Qe,render:e=>e(ue)}).$mount("#app");window.matchMedia&&(Ke.$vuetify.theme.dark=window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{Ke.$vuetify.theme.dark=e.matches}))},2528:function(e,t,r){var n={"./de.json":9929,"./en.json":790};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=2528},9929:function(e){"use strict";e.exports=JSON.parse('{"lang":"Deutsch","language":"Sprache","hello":"Hallo {user}!","darktheme":"Dunkles Farbschema","message":"Nachricht","title":"Titel","rollos":"Rollos","lichter":"Lichter"}')},790:function(e){"use strict";e.exports=JSON.parse('{"lang":"English","language":"Language","hello":"Hello {user}!","darktheme":"Dark Theme","message":"Message","title":"Title","rollos":"Blinds","lichter":"Lights"}')}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,a){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(i=!1,a<s&&(s=a));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/impressum.6ce3a8f4.js"}}(),function(){r.miniCssF=function(e){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="krueckl.de:";r.l=function(n,o,a,s){if(e[n])e[n].push(o);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[o];var f=function(t,r){i.onerror=i.onload=null,clearTimeout(m);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var e={143:0};r.f.j=function(t,n){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(r,n){o=e[t]=[r,n]}));n.push(o[2]=a);var s=r.p+r.u(t),i=new Error,l=function(n){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};r.l(s,l,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var u=l(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self["webpackChunkkrueckl_de"]=self["webpackChunkkrueckl_de"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(731)}));n=r.O(n)})();